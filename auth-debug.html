<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Auth Debug - FocusHub</title>
    <style>
        body {
            font-family: monospace;
            padding: 2rem;
            max-width: 800px;
            margin: 0 auto;
        }
        .success { color: green; }
        .error { color: red; }
        .info { color: blue; }
        pre { background: #f5f5f5; padding: 1rem; overflow-x: auto; }
    </style>
</head>
<body>
    <h1>üîç Auth Page Debug</h1>
    <div id="results"></div>
    
    <script type="module">
        const results = document.getElementById('results');
        
        function log(message, type = 'info') {
            const div = document.createElement('div');
            div.className = type;
            div.textContent = message;
            results.appendChild(div);
        }
        
        log('‚úì Page loaded successfully', 'success');
        log('‚úì JavaScript is working', 'success');
        
        // Test Firebase import
        try {
            log('‚Üí Attempting to import Firebase...', 'info');
            const { initializeApp } = await import("https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js");
            log('‚úì Firebase app module loaded', 'success');
            
            const { getAuth } = await import("https://www.gstatic.com/firebasejs/10.7.1/firebase-auth.js");
            log('‚úì Firebase auth module loaded', 'success');
            
            const { getFirestore } = await import("https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js");
            log('‚úì Firebase firestore module loaded', 'success');
            
            // Test Firebase init
            const firebaseConfig = {
                apiKey: "AIzaSyBJeuBD1TSL6gIZnr5sAKvTFYMj66ztzno",
                authDomain: "focushub-91094.firebaseapp.com",
                projectId: "focushub-91094",
                storageBucket: "focushub-91094.firebasestorage.app",
                messagingSenderId: "548003574834",
                appId: "1:548003574834:web:b19ed9ac4d4d84517bb82b"
            };
            
            const app = initializeApp(firebaseConfig);
            log('‚úì Firebase initialized successfully', 'success');
            
            const auth = getAuth(app);
            log('‚úì Firebase Auth ready', 'success');
            
            const db = getFirestore(app);
            log('‚úì Firestore ready', 'success');
            
            log('\n=== ALL CHECKS PASSED ===', 'success');
            log('\nIf you see this, auth.html SHOULD work.', 'info');
            log('Try opening auth.html now: /auth.html', 'info');
            
        } catch (error) {
            log('\n‚úó ERROR: ' + error.message, 'error');
            log('\nFull error:', 'error');
            const pre = document.createElement('pre');
            pre.textContent = JSON.stringify(error, null, 2);
            results.appendChild(pre);
            
            log('\n=== TROUBLESHOOTING ===', 'info');
            log('1. Check if Chrome is blocking third-party cookies', 'info');
            log('2. Check if Chrome is blocking Firebase CDN', 'info');
            log('3. Try disabling Chrome extensions', 'info');
            log('4. Try Chrome Incognito mode', 'info');
        }
    </script>
</body>
</html>
