<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FocusHub - Support Center</title>
    <link rel="icon" type="image/svg+xml" href="/favicon.svg?v=2">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: #0a0e14;
            color: #e0e0e0;
            min-height: 100vh;
            padding: 2rem;
            font-size: 14px;
            line-height: 1.6;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid #374151;
        }

        .logo {
            height: 32px;
        }

        .back-link {
            color: #2563EB;
            text-decoration: none;
            font-weight: 700;
            font-size: 13px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .back-link:hover {
            color: #3B82F6;
        }

        h1 {
            font-size: 32px;
            font-weight: 800;
            margin-bottom: 0.5rem;
            color: #e0e0e0;
        }

        .subtitle {
            color: #6b7280;
            margin-bottom: 2rem;
            font-size: 14px;
        }

        /* AI Chat Section */
        .ai-chat-section {
            background: linear-gradient(135deg, #1a202c 0%, #111827 100%);
            border: 2px solid #374151;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        .ai-chat-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .ai-icon {
            font-size: 32px;
        }

        .ai-chat-title {
            font-size: 20px;
            font-weight: 800;
            color: #2563EB;
        }

        .ai-chat-subtitle {
            font-size: 13px;
            color: #a8a8a8;
        }

        .chat-container {
            background: #0a0e14;
            border: 2px solid #2d3748;
            border-radius: 8px;
            padding: 1rem;
            min-height: 200px;
            max-height: 400px;
            overflow-y: auto;
            margin-bottom: 1rem;
        }

        .chat-message {
            margin-bottom: 1rem;
            padding: 0.75rem;
            border-radius: 6px;
        }

        .chat-message.user {
            background: #1a202c;
            border-left: 3px solid #2563EB;
        }

        .chat-message.ai {
            background: #111827;
            border-left: 3px solid #22C55E;
        }

        .message-label {
            font-size: 11px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: #6b7280;
            margin-bottom: 0.5rem;
        }

        .message-text {
            color: #d1d5db;
            font-size: 14px;
            line-height: 1.6;
        }

        .chat-input-container {
            display: flex;
            gap: 0.5rem;
        }

        .chat-input {
            flex: 1;
            background: #0a0e14;
            border: 2px solid #374151;
            color: #e0e0e0;
            padding: 0.75rem;
            border-radius: 6px;
            font-family: inherit;
            font-size: 14px;
        }

        .chat-input:focus {
            outline: none;
            border-color: #2563EB;
        }

        .btn-send {
            background: #2563EB;
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            font-size: 13px;
            font-weight: 700;
            border-radius: 6px;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            transition: all 0.2s;
        }

        .btn-send:hover {
            background: #1D4ED8;
            transform: translateY(-1px);
        }

        .btn-send:disabled {
            background: #374151;
            cursor: not-allowed;
            transform: none;
        }

        /* Quick Links */
        .quick-links {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .link-card {
            background: #111827;
            border: 2px solid #2d3748;
            border-radius: 8px;
            padding: 1.5rem;
            text-decoration: none;
            color: #e0e0e0;
            transition: all 0.2s;
        }

        .link-card:hover {
            border-color: #2563EB;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(37, 99, 235, 0.2);
        }

        .link-icon {
            font-size: 24px;
            margin-bottom: 0.5rem;
        }

        .link-title {
            font-size: 16px;
            font-weight: 700;
            margin-bottom: 0.25rem;
        }

        .link-desc {
            font-size: 12px;
            color: #6b7280;
        }

        /* Contact Form */
        .contact-section {
            background: #111827;
            border: 2px solid #2d3748;
            border-radius: 12px;
            padding: 2rem;
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            font-size: 12px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: #a8a8a8;
            margin-bottom: 0.5rem;
        }

        .form-input,
        .form-textarea {
            width: 100%;
            background: #0a0e14;
            border: 2px solid #374151;
            color: #e0e0e0;
            padding: 0.75rem;
            border-radius: 6px;
            font-family: inherit;
            font-size: 14px;
        }

        .form-input:focus,
        .form-textarea:focus {
            outline: none;
            border-color: #2563EB;
        }

        .form-textarea {
            resize: vertical;
            min-height: 120px;
        }

        .btn-submit {
            background: #e3302f;
            color: white;
            border: none;
            padding: 0.75rem 2rem;
            font-size: 14px;
            font-weight: 800;
            border-radius: 6px;
            cursor: pointer;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            transition: all 0.2s;
            border: 2px solid #c72827;
        }

        .btn-submit:hover {
            background: #c72827;
            transform: translateY(-1px);
        }

        .form-message {
            margin-top: 1rem;
            padding: 0.75rem;
            border-radius: 6px;
            font-size: 13px;
            font-weight: 600;
        }

        .form-message.success {
            background: #166534;
            border: 2px solid #22C55E;
            color: #86EFAC;
        }

        .form-message.error {
            background: #991B1B;
            border: 2px solid #EF4444;
            color: #FCA5A5;
        }

        @media (max-width: 768px) {
            body {
                padding: 1rem;
            }

            .quick-links {
                grid-template-columns: 1fr;
            }

            h1 {
                font-size: 24px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <img src="/logo.svg" alt="FocusHub" class="logo">
            <a href="/app.html" class="back-link">‚Üê Back to App</a>
        </div>

        <h1>Support Center</h1>
        <p class="subtitle">Get help with FocusHub. Ask the AI assistant or contact support directly.</p>

        <!-- AI Chat Assistant -->
        <div class="ai-chat-section">
            <div class="ai-chat-header">
                <div class="ai-icon">‚óÜ</div>
                <div>
                    <div class="ai-chat-title">AI Help Assistant</div>
                    <div class="ai-chat-subtitle">Ask anything about FocusHub</div>
                </div>
            </div>

            <div class="chat-container" id="chatContainer">
                <div class="chat-message ai">
                    <div class="message-label">AI Assistant</div>
                    <div class="message-text">Hi! I can help you with questions about FocusHub. Try asking me about features, how to use the timer, task management, or anything else!</div>
                </div>
            </div>

            <div class="chat-input-container">
                <input 
                    type="text" 
                    class="chat-input" 
                    id="chatInput" 
                    placeholder="Ask a question..."
                    onkeypress="if(event.key==='Enter') sendMessage()"
                >
                <button class="btn-send" onclick="sendMessage()" id="sendBtn">Send</button>
            </div>
        </div>

        <!-- Quick Links -->
        <div class="quick-links">
            <a href="/faq.html" class="link-card" target="_blank">
                <div class="link-icon">üìö</div>
                <div class="link-title">FAQ</div>
                <div class="link-desc">Frequently asked questions</div>
            </a>
            <a href="/how-to.html" class="link-card" target="_blank">
                <div class="link-icon">üìñ</div>
                <div class="link-title">How-To Guide</div>
                <div class="link-desc">Step-by-step instructions</div>
            </a>
        </div>

        <!-- Contact Form -->
        <div class="contact-section">
            <h2 style="font-size: 20px; font-weight: 800; margin-bottom: 1rem;">Still Need Help?</h2>
            <p style="font-size: 13px; color: #6b7280; margin-bottom: 1.5rem;">Send us a message and we'll get back to you.</p>

            <form id="contactForm" onsubmit="submitForm(event)">
                <div class="form-group">
                    <label class="form-label" for="name">Name</label>
                    <input type="text" class="form-input" id="name" required>
                </div>

                <div class="form-group">
                    <label class="form-label" for="email">Email</label>
                    <input type="email" class="form-input" id="email" required>
                </div>

                <div class="form-group">
                    <label class="form-label" for="subject">Subject</label>
                    <input type="text" class="form-input" id="subject" required>
                </div>

                <div class="form-group">
                    <label class="form-label" for="message">Message</label>
                    <textarea class="form-textarea" id="message" required></textarea>
                </div>

                <button type="submit" class="btn-submit">Send Message</button>
                <div id="formMessage"></div>
            </form>
        </div>
    </div>

    <script>
        // AI Knowledge Base
        const knowledgeBase = {
            "timer": "The FocusHub timer adapts to your energy level. Select High (25min), Medium (20min), or Low (15min) energy at the start of each day. The timer also includes SHORT BREAK (5min) and LONG BREAK (15min) options.",
            "energy": "Energy levels help the timer adapt to how you're feeling. High Energy = 25min sprints, Medium = 20min, Low = 15min. Be honest about your energy - the system works better when you are.",
            "tasks": "FocusHub uses 4 task buckets: Brain Dump (capture everything), Holding (review items), Urgent Admin (do today), and Deep Work (important focused work). Drag tasks between buckets as priorities change.",
            "buckets": "The 4 buckets are: Brain Dump (capture all ideas), Holding (items to review), Urgent Admin (must do today), Deep Work (focused important work). This system prevents endless to-do lists.",
            "distractions": "Click DISTRACTION when interrupted. It's not punishment - it's data. Tracking distractions helps you see patterns and protect your focus time.",
            "grade": "Your daily grade (A-F) is based on: sprints completed vs target, tasks finished, and distractions logged. It's accountability, not judgment.",
            "streak": "Complete your target sprints to maintain your streak. The streak resets if you miss a day. It's about consistency, not perfection.",
            "target": "Your target is calculated as: planned sprints √ó 1.5 (minimum 4). The 50% buffer accounts for ADHD realities like time blindness and unexpected interruptions.",
            "perfect day": "A perfect day = hit your target sprints + completed 3+ tasks + zero distractions. These are rare. That's intentional.",
            "reflection": "Daily reflections provide tough-love reminders about discipline and accountability. They rotate daily and are faith-grounded.",
            "breaks": "Take breaks when the timer prompts. SHORT BREAK = 5min, LONG BREAK = 15min. Your brain needs rest to maintain focus.",
            "theme": "Toggle between light and dark mode using the theme button. Your preference is saved automatically.",
            "data": "All your data (tasks, sprints, stats) is stored locally in your browser. It persists across sessions but resets at midnight each day.",
            "end day": "Click END DAY to manually reset your daily stats. Use this if you're done working for the day.",
            "default": "I'm not sure about that specific question. Try asking about: timer, energy levels, tasks, buckets, distractions, grades, streaks, or breaks. Or contact support below for help!"
        };

        function findAnswer(question) {
            const q = question.toLowerCase();
            
            // Check for keyword matches
            for (const [key, answer] of Object.entries(knowledgeBase)) {
                if (key !== 'default' && q.includes(key)) {
                    return answer;
                }
            }
            
            // Check for common variations
            if (q.includes('how') && (q.includes('work') || q.includes('use'))) {
                return "FocusHub helps you focus using time-boxed sprints, energy-based timing, and strict task prioritization. Start by selecting your energy level, then use the timer for focused work sessions. Check the How-To Guide for detailed instructions.";
            }
            
            if (q.includes('adhd') || q.includes('anxiety')) {
                return "FocusHub is built specifically for ADHD/anxiety brains. It accounts for time blindness, decision fatigue, task initiation paralysis, and inconsistency. The system provides external structure without requiring you to 'fix' yourself.";
            }
            
            return knowledgeBase.default;
        }

        function sendMessage() {
            const input = document.getElementById('chatInput');
            const container = document.getElementById('chatContainer');
            const sendBtn = document.getElementById('sendBtn');
            const question = input.value.trim();
            
            if (!question) return;
            
            // Disable input while processing
            input.disabled = true;
            sendBtn.disabled = true;
            
            // Add user message
            const userMsg = document.createElement('div');
            userMsg.className = 'chat-message user';
            userMsg.innerHTML = `
                <div class="message-label">You</div>
                <div class="message-text">${question}</div>
            `;
            container.appendChild(userMsg);
            
            // Clear input
            input.value = '';
            
            // Scroll to bottom
            container.scrollTop = container.scrollHeight;
            
            // Simulate thinking delay
            setTimeout(() => {
                const answer = findAnswer(question);
                
                // Add AI response
                const aiMsg = document.createElement('div');
                aiMsg.className = 'chat-message ai';
                aiMsg.innerHTML = `
                    <div class="message-label">AI Assistant</div>
                    <div class="message-text">${answer}</div>
                `;
                container.appendChild(aiMsg);
                
                // Scroll to bottom
                container.scrollTop = container.scrollHeight;
                
                // Re-enable input
                input.disabled = false;
                sendBtn.disabled = false;
                input.focus();
            }, 500);
        }

        function submitForm(event) {
            event.preventDefault();
            
            const name = document.getElementById('name').value;
            const email = document.getElementById('email').value;
            const subject = document.getElementById('subject').value;
            const message = document.getElementById('message').value;
            
            const formMessage = document.getElementById('formMessage');
            
            // Create mailto link
            const mailtoLink = `mailto:RonanEKane@gmail.com?subject=${encodeURIComponent(subject)}&body=${encodeURIComponent(`Name: ${name}\nEmail: ${email}\n\nMessage:\n${message}`)}`;
            
            // Open email client
            window.location.href = mailtoLink;
            
            // Show success message
            formMessage.className = 'form-message success';
            formMessage.textContent = 'Opening your email client... Please send the message from there.';
            
            // Reset form
            setTimeout(() => {
                document.getElementById('contactForm').reset();
                formMessage.textContent = '';
            }, 3000);
        }
    </script>
</body>
</html>
